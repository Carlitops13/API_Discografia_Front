<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Taylor's Discography - The Eras Collection</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@400;500;600;700&display=swap');
        
        * {
            font-family: 'Poppins', sans-serif;
        }
        
        h1 {
            font-family: 'Playfair Display', serif;
        }

        .sparkle {
            position: relative;
            display: inline-block;
        }

        .sparkle::before,
        .sparkle::after {
            content: '‚ú®';
            position: absolute;
            font-size: 1.2rem;
            animation: sparkleAnimation 2s infinite;
        }

        .sparkle::before {
            left: -2rem;
            animation-delay: 0s;
        }

        .sparkle::after {
            right: -2rem;
            animation-delay: 1s;
        }

        @keyframes sparkleAnimation {
            0%, 100% { opacity: 0; }
            50% { opacity: 1; }
        }

        .card-hover {
            transition: all 0.4s ease;
        }

        .card-hover:hover {
            transform: translateY(-12px) scale(1.02);
            box-shadow: 0 20px 40px rgba(168, 85, 247, 0.3);
        }

        .album-image {
            transition: transform 0.4s ease;
        }

        .card-hover:hover .album-image {
            transform: scale(1.05);
        }

        .gradient-bg {
            background: linear-gradient(135deg, #fce7f3 0%, #f3e8ff 50%, #dbeafe 100%);
        }

        .era-tag {
            background: linear-gradient(135deg, #a855f7 0%, #ec4899 100%);
            padding: 0.5rem 1rem;
            border-radius: 50px;
            font-weight: 600;
            font-size: 0.85rem;
        }

        .filter-btn {
            transition: all 0.3s ease;
        }

        .filter-btn.active {
            background: linear-gradient(135deg, #a855f7 0%, #ec4899 100%);
            color: white;
            box-shadow: 0 10px 25px rgba(168, 85, 247, 0.4);
        }

        .search-input {
            transition: all 0.3s ease;
        }

        .search-input:focus {
            box-shadow: 0 0 0 3px rgba(168, 85, 247, 0.1);
        }

        .fade-out {
            animation: fadeOut 0.3s ease-out;
        }

        .fade-in {
            animation: fadeIn 0.3s ease-in;
        }

        @keyframes fadeOut {
            from {
                opacity: 1;
                transform: scale(1);
            }
            to {
                opacity: 0;
                transform: scale(0.95);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: scale(0.95);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .heart-btn {
            transition: all 0.2s ease;
        }

        .heart-btn.liked {
            color: #ec4899;
            transform: scale(1.2);
        }

        /* Animaci√≥n de carga */
        .loading {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: linear-gradient(135deg, #a855f7 0%, #ec4899 100%);
            animation: pulse 1.5s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.3;
            }
        }
    </style>
</head>
<body class="gradient-bg min-h-screen">

    <!-- Header -->
    <div class="py-12 text-center">
        <h1 class="sparkle text-5xl md:text-6xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 via-pink-500 to-blue-400 mb-4">
            The Eras Collection
        </h1>
        <p class="text-gray-600 text-lg">Una colecci√≥n completa de los √°lbumes de Taylor Swift</p>
    </div>

    <!-- Main Container -->
    <div class="max-w-7xl mx-auto px-4 py-8">

        <!-- Barra de b√∫squeda y filtros -->
        <div class="mb-8 bg-white rounded-2xl shadow-lg p-6">
            
            <!-- B√∫squeda -->
            <div class="mb-6">
                <div class="relative">
                    <input 
                        type="text" 
                        id="searchInput"
                        placeholder="üîç Busca un √°lbum..."
                        class="search-input w-full px-4 py-3 pl-12 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-purple-500"
                    >
                    <span class="absolute left-4 top-3 text-xl">üîç</span>
                </div>
            </div>

            <!-- Filtros por G√©nero -->
            <div>
                <p class="text-sm font-semibold text-gray-700 mb-3">Filtrar por G√©nero:</p>
                <div class="flex flex-wrap gap-2">
                    <button 
                        onclick="filterByGenre('todos')" 
                        class="filter-btn active px-4 py-2 rounded-full bg-gray-200 text-gray-800 font-semibold hover:bg-purple-500 hover:text-white"
                    >
                        ‚ú® Todos
                    </button>
                    <button 
                        onclick="filterByGenre('Pop')" 
                        class="filter-btn px-4 py-2 rounded-full bg-gray-200 text-gray-800 font-semibold hover:bg-purple-500 hover:text-white"
                    >
                        üéµ Pop
                    </button>
                    <button 
                        onclick="filterByGenre('Country')" 
                        class="filter-btn px-4 py-2 rounded-full bg-gray-200 text-gray-800 font-semibold hover:bg-purple-500 hover:text-white"
                    >
                        ü§† Country
                    </button>
                    <button 
                        onclick="filterByGenre('Folklore')" 
                        class="filter-btn px-4 py-2 rounded-full bg-gray-200 text-gray-800 font-semibold hover:bg-purple-500 hover:text-white"
                    >
                        üå≤ Folklore
                    </button>
                    <button 
                        onclick="filterByGenre('Indie')" 
                        class="filter-btn px-4 py-2 rounded-full bg-gray-200 text-gray-800 font-semibold hover:bg-purple-500 hover:text-white"
                    >
                        üé∏ Indie
                    </button>
                </div>
            </div>

            <!-- Contador de resultados -->
            <div class="mt-4 text-sm text-gray-600">
                <span id="resultCount">Mostrando todos los √°lbumes</span>
            </div>
        </div>

        <!-- Grid de √Ålbumes -->
        <div id="albumsGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
            
            <!-- Tarjeta de √Ålbum -->
            <div th:each="album : ${listaAlbumes}" class="album-card card-hover group" th:data-name="${album.nombre}" th:data-genre="${album.genero}">
                <!-- Contenedor de la tarjeta -->
                <div class="bg-white rounded-2xl overflow-hidden shadow-lg h-full flex flex-col">
                    
                    <!-- Imagen del √Ålbum -->
                    <div class="relative overflow-hidden bg-gray-200 h-64">
                        <img th:src="${album.imagenUrl}" 
                             th:alt="${album.nombre}"
                             class="album-image w-full h-full object-cover"
                             loading="lazy">
                        
                        <!-- Overlay oscuro al hover -->
                        <div class="absolute inset-0 bg-black opacity-0 group-hover:opacity-20 transition-opacity duration-300"></div>

                        <!-- Bot√≥n de favoritos -->
                        <button class="heart-btn absolute top-4 right-4 text-2xl bg-white rounded-full w-10 h-10 flex items-center justify-center shadow-lg hover:scale-110 transition-transform" 
                                onclick="toggleFavorite(event)">
                            ü§ç
                        </button>
                    </div>
                    
                    <!-- Cuerpo de la tarjeta -->
                    <div class="p-6 text-center bg-gradient-to-br from-white to-gray-50 flex-grow flex flex-col justify-between">
                        
                        <!-- T√≠tulo del √Ålbum -->
                        <h3 class="text-xl font-bold text-gray-800 mb-3 line-clamp-2" 
                            th:text="${album.nombre}">
                            Nombre del √Ålbum
                        </h3>
                        
                        <!-- G√©nero (Badge) -->
                        <div class="mb-4">
                            <span class="era-tag text-white" th:text="${album.genero}">
                                Pop
                            </span>
                        </div>
                        
                        <!-- Fecha de Lanzamiento -->
                        <div class="text-gray-600 text-sm mb-6">
                            <span class="font-semibold">üìÖ Lanzamiento:</span>
                            <span th:text="${album.fechaLanzamiento}">2023</span>
                        </div>
                        
                        <!-- Bot√≥n de detalle -->
                        <button class="w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white font-semibold py-2 px-4 rounded-lg transition-all hover:shadow-lg hover:from-purple-600 hover:to-pink-600 transform hover:scale-105">
                            Ver Detalles ‚ú®
                        </button>
                    </div>
                </div>
            </div>

        </div>

        <!-- Mensaje si no hay √°lbumes -->
        <div id="emptyMessage" class="hidden text-center py-16">
            <p class="text-2xl text-gray-500 font-semibold">No hay √°lbumes que coincidan con tu b√∫squeda üò¢</p>
            <button onclick="resetFilters()" class="mt-4 px-6 py-2 bg-purple-500 text-white rounded-lg font-semibold hover:bg-purple-600 transition-all">
                Limpiar filtros
            </button>
        </div>
    </div>

    <!-- Footer -->
    <div class="text-center py-8 mt-12 text-gray-600 border-t border-gray-200">
        <p>üíú Made with love for Taylor Swift fans | 2026</p>
    </div>

    <script>
        let currentGenreFilter = 'todos';

        // Funci√≥n de b√∫squeda
        document.getElementById('searchInput').addEventListener('input', function(e) {
            const searchTerm = e.target.value.toLowerCase();
            filterAlbums(searchTerm, currentGenreFilter);
        });

        // Funci√≥n de filtrado por g√©nero
        function filterByGenre(genre) {
            currentGenreFilter = genre;
            
            // Actualizar botones activos
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            // Aplicar filtro
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            filterAlbums(searchTerm, genre);
        }

        // Funci√≥n principal de filtrado
        function filterAlbums(searchTerm, genre) {
            const albums = document.querySelectorAll('.album-card');
            let visibleCount = 0;

            albums.forEach(album => {
                const albumName = album.getAttribute('data-name').toLowerCase();
                const albumGenre = album.getAttribute('data-genre');

                const matchesSearch = albumName.includes(searchTerm);
                const matchesGenre = genre === 'todos' || albumGenre === genre;

                if (matchesSearch && matchesGenre) {
                    album.style.display = '';
                    album.classList.add('fade-in');
                    visibleCount++;
                } else {
                    album.style.display = 'none';
                    album.classList.remove('fade-in');
                }
            });

            // Mostrar/ocultar mensaje vac√≠o
            const emptyMessage = document.getElementById('emptyMessage');
            if (visibleCount === 0) {
                emptyMessage.classList.remove('hidden');
            } else {
                emptyMessage.classList.add('hidden');
            }

            // Actualizar contador
            document.getElementById('resultCount').textContent = 
                visibleCount === 0 ? 'Sin resultados' : `Mostrando ${visibleCount} √°lbum${visibleCount !== 1 ? 'es' : ''}`;
        }

        // Funci√≥n de favoritos
        function toggleFavorite(e) {
            e.stopPropagation();
            const btn = e.target;
            btn.classList.toggle('liked');
            btn.textContent = btn.classList.contains('liked') ? '‚ù§Ô∏è' : 'ü§ç';
        }

        // Funci√≥n para limpiar filtros
        function resetFilters() {
            document.getElementById('searchInput').value = '';
            currentGenreFilter = 'todos';
            
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector('.filter-btn').classList.add('active');

            filterAlbums('', 'todos');
        }
    </script>

</body>
</html>