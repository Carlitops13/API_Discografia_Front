<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Taylor's Discography - The Eras Collection</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@300;400;600;700&display=swap');
        
        * { font-family: 'Poppins', sans-serif; }
        
        h1 { 
            font-family: 'Playfair Display', serif; 
            animation: titleGlow 3s ease-in-out infinite;
        }

        @keyframes titleGlow {
            0%, 100% { filter: drop-shadow(0 0 10px rgba(168, 85, 247, 0.5)); }
            50% { filter: drop-shadow(0 0 25px rgba(99, 102, 241, 0.8)); }
        }

        /* Fondo modo claro */
        .gradient-bg {
            background: #f8fafc;
            transition: all 0.6s ease;
        }

        /* FONDO MIDNIGHTS: Azul noche profundo inspirado en la est√©tica de Taylor */
        body.dark-mode {
            background: radial-gradient(circle at center, #0a0f35 0%, #020617 100%) !important;
            color: white;
        }

        /* Carrusel Infinito */
        .carousel-container { overflow: hidden; position: relative; }
        .carousel-track {
            display: flex;
            animation: scroll 50s linear infinite;
            gap: 2.5rem;
            padding: 3rem 0;
        }
        .carousel-track.paused { animation-play-state: paused; }

        @keyframes scroll {
            0% { transform: translateX(0); }
            100% { transform: translateX(calc(-100% - 2.5rem)); }
        }

        .carousel-item {
            flex: 0 0 320px;
            transition: all 0.4s ease;
        }

        /* Estructura de la Tarjeta */
        .carousel-item-inner {
            background: #ffffff;
            border-radius: 30px;
            overflow: hidden;
            height: 100%;
            display: flex;
            flex-direction: column;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            border: 1px solid rgba(0,0,0,0.05);
        }

        body.dark-mode .carousel-item-inner {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Switch de Tema */
        .toggle-switch {
            width: 56px;
            height: 28px;
            background-color: #475569;
            border-radius: 50px;
            position: relative;
            transition: 0.4s;
        }
        .toggle-switch.active { background-color: #6366f1; }
        .toggle-switch::after {
            content: '';
            position: absolute;
            width: 22px;
            height: 22px;
            background: white;
            border-radius: 50%;
            top: 3px;
            left: 3px;
            transition: 0.3s;
        }
        .toggle-switch.active::after { left: 31px; }

        @media (max-width: 768px) {
            .carousel-item { flex: 0 0 270px; }
            h1 { font-size: 3rem !important; }
        }
    </style>
</head>
<body class="gradient-bg min-h-screen transition-colors duration-500">

    <div class="fixed top-6 right-6 z-50 flex items-center gap-3 bg-white/90 dark:bg-slate-900/80 backdrop-blur-xl p-2 px-4 rounded-full shadow-2xl cursor-pointer border border-slate-200 dark:border-white/10" onclick="toggleDarkMode()">
        <span id="themeIcon" class="text-xl">üåô</span>
        <div class="toggle-switch" id="themeSwitch"></div>
    </div>

    <header class="pt-24 pb-12 text-center px-4">
        <h1 class="text-6xl md:text-8xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 via-purple-500 to-pink-500 mb-6 tracking-tighter">
            The Eras Collection
        </h1>
        <p class="text-slate-700 dark:text-slate-300 text-lg md:text-xl max-w-2xl mx-auto font-semibold">
            "Meet me at midnight" ‚Äî La discograf√≠a completa de Taylor Swift.
        </p>
    </header>

    <main class="carousel-container" id="carouselContainer">
        <div class="carousel-track" id="carouselTrack">
            <th:block th:each="album : ${listaAlbumes}">
                <div class="carousel-item group">
                    <div class="carousel-item-inner relative border-b-[12px] transition-all duration-500 group-hover:-translate-y-4"
                         th:style="'border-color: ' + @{${
                            #strings.contains(album.nombre, 'Taylor Swift') ? '#72a568' : 
                            #strings.contains(album.nombre, 'Fearless') ? '#fbbf24' : 
                            #strings.contains(album.nombre, 'Speak Now') ? '#a855f7' : 
                            #strings.contains(album.nombre, 'Red') ? '#b91c1c' : 
                            #strings.contains(album.nombre, '1989') ? '#93c5fd' : 
                            #strings.contains(album.nombre, 'reputation') ? '#262626' : 
                            #strings.contains(album.nombre, 'Lover') ? '#f7b1d4' : 
                            #strings.contains(album.nombre, 'folklore') ? '#9ca3af' : 
                            #strings.contains(album.nombre, 'evermore') ? '#78350f' : 
                            #strings.contains(album.nombre, 'Midnights') ? '#1e3a8a' : 
                            #strings.contains(album.nombre, 'Poets') ? '#e3e3e3' : '#a855f7'
                         }}">
                        
                        <div class="relative overflow-hidden aspect-square">
                            <img th:src="${album.imagenUrl}" 
                                 th:alt="${album.nombre}"
                                 class="w-full h-full object-cover transition-transform duration-1000 group-hover:scale-110">
                            
                            <div class="absolute top-4 left-4 z-20">
                                <span class="bg-black/60 backdrop-blur-md text-white text-[10px] px-3 py-1 rounded-full uppercase tracking-widest font-bold border border-white/20">
                                    [[${album.genero}]]
                                </span>
                            </div>
                        </div>

                        <div class="p-8 flex flex-col justify-between flex-grow">
                            <div>
                                <h3 class="text-2xl font-black text-black dark:text-white leading-tight mb-2 transition-colors duration-300" 
                                    th:text="${album.nombre}">Nombre del √Ålbum</h3>
                                <p class="text-slate-600 dark:text-slate-400 text-sm font-bold uppercase tracking-tighter">
                                    Eras Tour Edition ‚Ä¢ [[${#strings.substring(album.fechaLanzamiento, 0, 4)}]]
                                </p>
                            </div>
                            
                            <div class="mt-8 flex items-center justify-between">
                                <span class="text-[11px] font-black text-indigo-600 dark:text-indigo-400 tracking-[0.3em]">TS ‚Ä¢ ERAS</span>
                                <div class="h-1.5 w-12 bg-slate-200 dark:bg-white/20 rounded-full"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </th:block>
        </div>
    </main>

    <footer class="text-center py-20 mt-10">
        <p class="text-xs tracking-[0.5em] uppercase text-slate-500 dark:text-slate-400 font-bold">
            ‚ú® <span class="text-slate-900 dark:text-white uppercase">Carlos Puente</span> | 2026 ‚ú®
        </p>
    </footer>

    <script>
        // L√≥gica de Cambio de Tema
        const toggleDarkMode = () => {
            const body = document.body;
            const isDark = body.classList.toggle('dark-mode');
            document.getElementById('themeSwitch').classList.toggle('active');
            document.getElementById('themeIcon').textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
            localStorage.setItem('darkMode', isDark);
        };

        // Persistencia de datos
        if (localStorage.getItem('darkMode') === 'true') {
            document.body.classList.add('dark-mode');
            document.getElementById('themeSwitch').classList.add('active');
            document.getElementById('themeIcon').textContent = '‚òÄÔ∏è';
        }

        // Clonaci√≥n de elementos para loop infinito fluido
        const track = document.getElementById('carouselTrack');
        const items = Array.from(track.children);
        items.forEach(item => {
            const clone = item.cloneNode(true);
            track.appendChild(clone);
        });

     
        const container = document.getElementById('carouselContainer');
        container.addEventListener('mouseenter', () => track.classList.add('paused'));
        container.addEventListener('mouseleave', () => track.classList.remove('paused'));
    </script>
</body>
</html>